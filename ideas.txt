# ƒ∞yile≈ütirme Fikirleri

================================================================================

## Fƒ∞Kƒ∞R: 15m vs 1h Momentum Karƒ±≈üƒ±klƒ±ƒüƒ±

### Problem
AI zone_weakening_combined_rule kuralƒ±nƒ± uygularken 1h momentum ile 15m momentum'u karƒ±≈ütƒ±rdƒ±.

**√ñrnek (Cycle 9 - DOGE):**
```
1h momentum: WEAKENING
15m momentum: STRENGTHENING

AI dedi: "UPPER_10 zone + 15m WEAKENING momentum"
Ger√ßek: 15m momentum STRENGTHENING, 1h momentum WEAKENING
```

### Olasƒ± √á√∂z√ºmler

1. **Prompt'u netle≈ütir:** 
   - "CHECK 15m MOMENTUM ONLY (not 1h)"
   - Her ko≈üula explicit "15m" prefix ekle

2. **Veri sunumunu deƒüi≈ütir:**
   - Market data'da momentum field'larƒ±nƒ± "momentum_1h", "momentum_15m" olarak ayƒ±r
   - Karƒ±≈üƒ±klƒ±ƒüƒ± √∂nle

3. **Kuralƒ± basitle≈ütir:**
   - Sadece zone + RSI threshold kullan
   - Momentum yerine RSI > 60 / RSI < 40 gibi sayƒ±sal deƒüerler

### Durum
üìã BEKLEMEDE - Test edilecek

================================================================================

## Fƒ∞Kƒ∞R: Extreme RSI + Zone Kuralƒ± (Counter-Trend Fƒ±rsatƒ±)

### Problem
TRX LOWER_10 zone + RSI 19.4 (extreme oversold) durumunda AI "Consider LONG counter-trend" 
dedi ama counter_trade_analysis bo≈ü olduƒüu i√ßin a√ßamadƒ±.

**Backtest Sonucu (Cycle 88-98):**
- Giri≈ü: $0.2811, 10 cycle sonra: $0.281
- Deƒüi≈üim: -0.04% (break-even)
- RSI 19.4 ‚Üí 21.9 (hafif recovery ba≈üladƒ±)

### √ñneri: Simetrik Extreme RSI Kuralƒ±

**LONG i√ßin:**
- Zone: LOWER_10 (percentile < 10)
- RSI (1h): < 25 (extreme oversold)
- VEYA WEAKENING momentum
‚Üí Counter-trend LONG fƒ±rsatƒ± deƒüerlendir

**SHORT i√ßin:**
- Zone: UPPER_10 (percentile > 90)  
- RSI (1h): > 75 (extreme overbought)
- VEYA WEAKENING momentum
‚Üí Counter-trend SHORT fƒ±rsatƒ± deƒüerlendir

### Uygulama Yeri
1. `portfolio_manager.py` - confidence adjustment (runtime koruma)
2. `deepseek_api.py` - AI prompt'a kural ekle
3. `prompt_json_builders.py` - counter_trade_analysis'e extreme RSI ko≈üulu ekle

### Notlar
- 15m alignment GEREKMESƒ∞N (RSI extreme zaten g√º√ßl√º sinyal)
- Volume > 0.50x gerektir (hard rule korunsun)
- Risk azaltma i√ßin d√º≈ü√ºk confidence (0.40-0.55) kullan

### Durum
‚úÖ TAMAMLANDI - Zone+Weakening risk modifier eklendi (prompt_json_builders.py)

### Uygulanan Deƒüi≈üiklik
- Zone bonus ko≈üullarƒ± (15m timeframe):
  - LOWER_10 + WEAKENING (BEARISH trend) = LONG i√ßin olumlu
  - UPPER_10 + WEAKENING (BULLISH trend) = SHORT i√ßin olumlu
  - LOWER_10 + RSI < 30 (BEARISH trend) = LONG i√ßin olumlu
  - UPPER_10 + RSI > 70 (BULLISH trend) = SHORT i√ßin olumlu
- Risk seviyesi sadece 1 kademe d√º≈üer (birden fazla ko≈üul saƒülansa bile):
  - VERY_HIGH_RISK ‚Üí HIGH_RISK
  - HIGH_RISK ‚Üí MEDIUM_RISK
  - MEDIUM_RISK ve LOW_RISK aynƒ± kalƒ±r

================================================================================